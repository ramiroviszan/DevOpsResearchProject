(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{45:function(e,t,n){e.exports=n(46)},46:function(e,t,n){n(79)},6:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=6},66:function(e,t,n){},70:function(e,t){},79:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(19),s=n(12),o=n(17),c=Object(o.a)(),l=n(20),u=n(38),A=n(39),m={SUCCESS:"ALERT_SUCCESS",ERROR:"ALERT_ERROR",CLEAR:"ALERT_CLEAR"},E={REGISTER_REQUEST:"USERS_REGISTER_REQUEST",REGISTER_SUCCESS:"USERS_REGISTER_SUCCESS",REGISTER_FAILURE:"USERS_REGISTER_FAILURE",LOGIN_REQUEST:"USERS_LOGIN_REQUEST",LOGIN_SUCCESS:"USERS_LOGIN_SUCCESS",LOGIN_FAILURE:"USERS_LOGIN_FAILURE",LOGOUT:"USERS_LOGOUT",GETALL_REQUEST:"USERS_GETALL_REQUEST",GETALL_SUCCESS:"USERS_GETALL_SUCCESS",GETALL_FAILURE:"USERS_GETALL_FAILURE",DELETE_REQUEST:"USERS_DELETE_REQUEST",DELETE_SUCCESS:"USERS_DELETE_SUCCESS",DELETE_FAILURE:"USERS_DELETE_FAILURE"},d={REGISTER_REQUEST:"CLIENTS_REGISTER_REQUEST",REGISTER_SUCCESS:"CLIENTS_REGISTER_SUCCESS",REGISTER_FAILURE:"CLIENTS_REGISTER_FAILURE",GETALL_REQUEST:"CLIENTS_GETALL_REQUEST",GETALL_SUCCESS:"CLIENTS_GETALL_SUCCESS",GETALL_FAILURE:"CLIENTS_GETALL_FAILURE"},h={REGISTER_REQUEST:"PROJECTS_REGISTER_REQUEST",REGISTER_SUCCESS:"PROJECTS_REGISTER_SUCCESS",REGISTER_FAILURE:"PROJECTS_REGISTER_FAILURE"},p=JSON.parse(localStorage.getItem("user")),f=p?{loggedIn:!0,user:p}:{};var g=n(25),S=n(8);var C=Object(l.c)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.LOGIN_REQUEST:return{loggingIn:!0,user:t.user};case E.LOGIN_SUCCESS:return{loggedIn:!0,user:t.user};case E.LOGIN_FAILURE:case E.LOGOUT:return{};default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case d.REGISTER_REQUEST:case h.REGISTER_REQUEST:return{registering:!0};case d.REGISTER_SUCCESS:case d.REGISTER_FAILURE:case h.REGISTER_FAILURE:case h.REGISTER_SUCCESS:return{};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.GETALL_REQUEST:return{loading:!0};case E.GETALL_SUCCESS:return{items:t.users};case E.GETALL_FAILURE:return{error:t.error};case E.DELETE_REQUEST:return Object(S.a)({},e,{items:e.items.map(function(e){return e.id===t.id?Object(S.a)({},e,{deleting:!0}):e})});case E.DELETE_SUCCESS:return{items:e.items.filter(function(e){return e.id!==t.id})};case E.DELETE_FAILURE:return Object(S.a)({},e,{items:e.items.map(function(e){if(e.id===t.id){e.deleting;var n=Object(g.a)(e,["deleting"]);return Object(S.a)({},n,{deleteError:t.error})}return e})});default:return e}},clients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.GETALL_REQUEST:return{loading:!0};case d.GETALL_SUCCESS:return{items:t.clients};case d.GETALL_FAILURE:return{error:t.error};default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.SUCCESS:return{type:"alert-success",message:t.message};case m.ERROR:return{type:"alert-danger",message:t.message};case m.CLEAR:return{};default:return e}}}),b=Object(A.createLogger)(),R=Object(l.d)(C,Object(l.a)(u.a,b));function v(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}var I=n(27),O=JSON.parse(localStorage.getItem("users"))||[],U=JSON.parse(localStorage.getItem("clients"))||[],T=JSON.parse(localStorage.getItem("projects"))||[];var y=n(9),_=n(10),G=n(14),L=n(11),j=n(13),w=n(83),N=n(82),Q={success:function(e){return{type:m.SUCCESS,message:e}},error:function(e){return{type:m.ERROR,message:e}},clear:function(){return{type:m.CLEAR}}};var k=n(7),D=n.n(k),J={login:function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return fetch("".concat(D.a.apiUrl,"/api/login/company"),n).then(F).then(function(e){return e.token&&localStorage.setItem("user",JSON.stringify(e)),e})},logout:M,register:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("".concat(D.a.apiUrl,"/users/register"),t).then(F)},getAll:function(){var e={method:"GET",headers:v()};return fetch("".concat(D.a.apiUrl,"/users"),e).then(F)},getById:function(e){var t={method:"GET",headers:v()};return fetch("".concat(D.a.apiUrl,"/users/").concat(e),t).then(F)},update:function(e){var t={method:"PUT",headers:Object(S.a)({},v(),{"Content-Type":"application/json"}),body:JSON.stringify(e)};return fetch("".concat(D.a.apiUrl,"/users/").concat(e.id),t).then(F)},delete:function(e){var t={method:"DELETE",headers:v()};return fetch("".concat(D.a.apiUrl,"/users/").concat(e),t).then(F)}};function M(){localStorage.removeItem("user")}function F(e){return e.text().then(function(t){var n=t&&JSON.parse(t);if(!e.ok){401===e.status&&(M(),window.location.reload(!0));var a=n&&n.message||e.statusText;return Promise.reject(a)}return n})}var B={register:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("".concat(D.a.apiUrl,"/api/clients"),t).then(P)},update:function(e){var t={method:"PUT",headers:Object(S.a)({},v(),{"Content-Type":"application/json"}),body:JSON.stringify(e)};return fetch("".concat(D.a.apiUrl,"/api/client/").concat(e.id),t).then(P)},getAll:function(){var e={method:"GET",headers:v()};return fetch("".concat(D.a.apiUrl,"/api/clients"),e).then(P)},getById:function(e){var t={method:"GET",headers:v()};return fetch("".concat(D.a.apiUrl,"/api/clients/").concat(e),t).then(P)}};function P(e){return e.text().then(function(t){var n=t&&JSON.parse(t);if(!e.ok){401===e.status&&(localStorage.removeItem("user"),window.location.reload(!0));var a=n&&n.message||e.statusText;return Promise.reject(a)}return n})}var K={register:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("".concat(D.a.apiUrl,"/api/projects"),t).then(x)},getAll:function(){var e={method:"GET",headers:v()};return fetch("".concat(D.a.apiUrl,"/api/projects"),e).then(x)},getClientProjects:function(e){var t={method:"GET",headers:v()};return fetch("".concat(D.a.apiUrl,"/api/client/").concat(e,"/projects"),t).then(x)}};function x(e){return e.text().then(function(t){var n=t&&JSON.parse(t);if(!e.ok){401===e.status&&(localStorage.removeItem("user"),window.location.reload(!0));var a=n&&n.message||e.statusText;return Promise.reject(a)}return n})}var Y={login:function(e,t){return function(n){var a;n((a={username:e},{type:E.LOGIN_REQUEST,user:a})),J.login(e,t).then(function(e){n(function(e){return{type:E.LOGIN_SUCCESS,user:e}}(e)),c.push("/")},function(e){n(function(e){return{type:E.LOGIN_FAILURE,error:e}}(e.toString())),n(Q.error(e.toString()))})}},logout:function(){return J.logout(),{type:E.LOGOUT}},register:function(e){return function(t){t(function(e){return{type:E.REGISTER_REQUEST,user:e}}(e)),J.register(e).then(function(e){t(function(e){return{type:E.REGISTER_SUCCESS,user:e}}()),c.push("/login"),t(Q.success("Registration successful"))},function(e){t(function(e){return{type:E.REGISTER_FAILURE,error:e}}(e.toString())),t(Q.error(e.toString()))})}},getAll:function(){return function(e){e({type:E.GETALL_REQUEST}),J.getAll().then(function(t){return e(function(e){return{type:E.GETALL_SUCCESS,users:e}}(t))},function(t){return e(function(e){return{type:E.GETALL_FAILURE,error:e}}(t.toString()))})}},delete:function(e){return function(t){t(function(e){return{type:E.DELETE_REQUEST,id:e}}(e)),J.delete(e).then(function(n){return t(function(e){return{type:E.DELETE_SUCCESS,id:e}}(e))},function(n){return t(function(e,t){return{type:E.DELETE_FAILURE,id:e,error:t}}(e,n.toString()))})}}};var H={register:function(e){return function(t){t(function(e){return{type:d.REGISTER_REQUEST,client:e}}(e)),B.register(e).then(function(e){t(function(e){return{type:d.REGISTER_SUCCESS,client:e}}()),c.push("/"),t(Q.success("Registration successful"))},function(e){t(function(e){return{type:d.REGISTER_FAILURE,error:e}}(e.toString())),t(Q.error(e.toString()))})}},getAll:function(){return function(e){e({type:d.GETALL_REQUEST}),B.getAll().then(function(t){return e(function(e){return{type:d.GETALL_SUCCESS,clients:e}}(t))},function(t){return e(function(e){return{type:d.GETALL_FAILURE,error:e}}(t.toString()))})}}};var W={register:function(e){return function(t){t(function(e){return{type:h.REGISTER_REQUEST,project:e}}(e)),K.register(e).then(function(e){t(function(e){return{type:h.REGISTER_SUCCESS,project:e}}()),c.push("/"),t(Q.success("Registration successful"))},function(e){t(function(e){return{type:h.REGISTER_FAILURE,error:e}}(e.toString())),t(Q.error(e.toString()))})}}};var z=n(81),V=function(e){var t=e.component,n=Object(g.a)(e,["component"]);return r.a.createElement(N.a,Object.assign({},n,{render:function(e){return localStorage.getItem("user")?r.a.createElement(t,e):r.a.createElement(z.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Z=(n(66),n(70),n(80)),q=n(71),X=function(e){function t(){return Object(y.a)(this,t),Object(G.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){q("#cssmenu li.active").addClass("open").children("ul").show(),q("#cssmenu li.has-sub>a").on("click",this.showClientOptions)}},{key:"showClientOptions",value:function(){q(this).removeAttr("href");var e=q(this).parent("li");e.hasClass("open")?(e.removeClass("open"),e.find("li").removeClass("open"),e.find("ul").slideUp(200)):(e.addClass("open"),e.children("ul").slideDown(200),e.siblings("li").children("ul").slideUp(200),e.siblings("li").removeClass("open"),e.siblings("li").find("li").removeClass("open"),e.siblings("li").find("ul").slideUp(200))}},{key:"render",value:function(){return r.a.createElement("div",{id:"cssmenu"},r.a.createElement("ul",null,r.a.createElement("li",{className:"has-sub"},r.a.createElement("a",{href:"#"},"Clientes"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(Z.a,{to:"/register"},"Crear Cliente")),r.a.createElement("li",null,r.a.createElement(Z.a,{to:"/"},"Mostrar Clientes")))),r.a.createElement("li",{className:"has-sub"},r.a.createElement("a",{href:"#"},"Proyectos"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(Z.a,{to:"/createProject"},"Crear Proyecto")),r.a.createElement("li",null,r.a.createElement(Z.a,{to:"/"},"Mostrar Proyectos")))),r.a.createElement("li",{className:"logout"},r.a.createElement(Z.a,{to:"/login"},"Cerrar Sesi\xf3n"))))}}]),t}(r.a.Component),$=function(e){function t(){return Object(y.a)(this,t),Object(G.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Y.getAll())}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",null,r.a.createElement("div",{className:"welcomeMsg"},r.a.createElement("p",null,"Bienvenido/a ",e.username,"!")),r.a.createElement(X,null))}}]),t}(r.a.Component);var ee=Object(s.b)(function(e){var t=e.users;return{user:e.authentication.user,users:t}})($),te=n(16),ne=n(5),ae=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(G.a)(this,Object(L.a)(t).call(this,e))).props.dispatch(Y.logout()),n.state={username:"",password:"",submitted:!1},n.handleChange=n.handleChange.bind(Object(ne.a)(Object(ne.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(ne.a)(Object(ne.a)(n))),n}return Object(j.a)(t,e),Object(_.a)(t,[{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(te.a)({},n,a))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state,n=t.username,a=t.password,r=this.props.dispatch;n&&a&&r(Y.login(n,a))}},{key:"render",value:function(){var e=this.props.loggingIn,t=this.state,n=t.username,a=t.password,i=t.submitted;return r.a.createElement("div",{className:"col-md-6 col-md-offset-3"},r.a.createElement("h2",{style:{textAlign:"center"}},"Custom Toys"),r.a.createElement("form",{name:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"+(i&&!n?" has-error":"")},r.a.createElement("label",{htmlFor:"username"},"Nombre de Usuario"),r.a.createElement("input",{type:"text",className:"form-control",name:"username",value:n,onChange:this.handleChange}),i&&!n&&r.a.createElement("div",{className:"help-block"},"Debe ingresar el nombre de usuario")),r.a.createElement("div",{className:"form-group"+(i&&!a?" has-error":"")},r.a.createElement("label",{htmlFor:"password"},"Contrase\xf1a"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",value:a,onChange:this.handleChange}),i&&!a&&r.a.createElement("div",{className:"help-block"},"Debe ingresar la contrase\xf1a")),r.a.createElement("div",{style:{textAlign:"center"},className:"form-group"},r.a.createElement("button",{className:"btn btn-primary"},"Ingresar"),r.a.createElement("br",null),r.a.createElement("br",null),e&&r.a.createElement("img",{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="}))))}}]),t}(r.a.Component);var re=Object(s.b)(function(e){return{loggingIn:e.authentication.loggingIn}})(ae),ie=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(G.a)(this,Object(L.a)(t).call(this,e))).state={client:{username:"",password:"",company_name:"",entry_date:"",rut:""},submitted:!1},n.handleChange=n.handleChange.bind(Object(ne.a)(Object(ne.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(ne.a)(Object(ne.a)(n))),n}return Object(j.a)(t,e),Object(_.a)(t,[{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value,r=this.state.client;this.setState({client:Object(S.a)({},r,Object(te.a)({},n,a))})}},{key:"fieldsCompleted",value:function(){var e=this.state.client,t=!0;return t&=""!=e.username.trim(),t&=""!=e.password.trim(),t&=""!=e.company_name.trim(),t&=""!=e.entry_date.trim()}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state.client,n=this.props.dispatch;this.fieldsCompleted()&&n(H.register(t))}},{key:"render",value:function(){var e=this.props.registering,t=this.state,n=t.client,a=t.submitted;return r.a.createElement("div",{className:"col-md-6 col-md-offset-3"},r.a.createElement("h2",null,"Registrar Cliente"),r.a.createElement("form",{name:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"+(a&&!n.username?" has-error":"")},r.a.createElement("label",{htmlFor:"username"},"Nombre de Usuario"),r.a.createElement("input",{type:"text",className:"form-control",name:"username",value:n.username,onChange:this.handleChange}),a&&!n.username&&r.a.createElement("div",{className:"help-block"},"Debe ingresar un nombre de usuario")),r.a.createElement("div",{className:"form-group"+(a&&!n.password?" has-error":"")},r.a.createElement("label",{htmlFor:"password"},"Contrase\xf1a"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",value:n.password,onChange:this.handleChange}),a&&!n.password&&r.a.createElement("div",{className:"help-block"},"Debe ingresar una contrase\xf1a")),r.a.createElement("div",{className:"form-group"+(a&&!n.company_name?" has-error":"")},r.a.createElement("label",{htmlFor:"company_name"},"Nombre de la Empresa Cliente"),r.a.createElement("input",{type:"text",className:"form-control",name:"company_name",value:n.company_name,onChange:this.handleChange}),a&&!n.company_name&&r.a.createElement("div",{className:"help-block"},"Debe ingresar un nombre para la empresa cliente")),r.a.createElement("div",{className:"form-group"+(a&&!n.entry_date?" has-error":"")},r.a.createElement("label",{htmlFor:"entry_date"},"Fecha de ingreso"),r.a.createElement("input",{type:"date",className:"form-control",name:"entry_date",value:n.entry_date,onChange:this.handleChange}),a&&!n.entry_date&&r.a.createElement("div",{className:"help-block"},"Debe ingresar la fecha de entrada")),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary"},"Register"),e&&r.a.createElement("img",{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="}),r.a.createElement(Z.a,{to:"/",className:"btn btn-link"},"Cancel"))))}}]),t}(r.a.Component);var se=Object(s.b)(function(e){return{registering:e.registration.registering,user:e.authentication.user}})(ie),oe=n(44),ce=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(G.a)(this,Object(L.a)(t).call(this,e))).state={project:{_id:"",name:"",start_date:"",end_date:"",id_client:""},selectedOption:null,submitted:!1},n.handleChange=n.handleChange.bind(Object(ne.a)(Object(ne.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(ne.a)(Object(ne.a)(n))),n}return Object(j.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(H.getAll())}},{key:"handleClient",value:function(e){var t=this.state.project;e&&this.setState({selectedOption:e,project:Object(S.a)({},t,{id_client:e.value})})}},{key:"handleChange",value:function(e){if(e.target){var t=e.target,n=t.name,a=t.value,r=this.state.project;this.setState({project:Object(S.a)({},r,Object(te.a)({},n,a))})}else this.handleClient(e)}},{key:"fieldsCompleted",value:function(){var e=this.state.project,t=!0;return t&=""!=e.name.trim(),t&=""!=e.start_date.trim(),t&=""!=e.end_date.trim(),t&=""!=e.id_client.trim()}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state.project,n=this.props.dispatch;this.fieldsCompleted()&&n(W.register(t))}},{key:"render",value:function(){var e=this.props,t=e.registering,n=e.clients,a=this.state,i=a.project,s=a.submitted,o=a.selectedOption,c=[];return n&&n.items&&n.items.map(function(e,t){return c.push({value:e.username,label:"Nombre de usuario del cliente: "+e.username})}),r.a.createElement("div",{className:"col-md-6 col-md-offset-3"},r.a.createElement("h2",null,"Crear Proyecto"),r.a.createElement("form",{name:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"+(s&&!i.name?" has-error":"")},r.a.createElement("label",{htmlFor:"name"},"Nombre"),r.a.createElement("input",{type:"text",className:"form-control",name:"name",value:i.name,onChange:this.handleChange}),s&&!i.name&&r.a.createElement("div",{className:"help-block"},"Debe ingresar un nombre al proyecto")),r.a.createElement("div",{className:"form-group"+(s&&!i.start_date?" has-error":"")},r.a.createElement("label",{htmlFor:"start_date"},"Fecha de Inicio"),r.a.createElement("input",{type:"date",className:"form-control",name:"start_date",value:i.start_date,onChange:this.handleChange}),s&&!i.start_date&&r.a.createElement("div",{className:"help-block"},"Debe ingresar una fecha de inicio")),r.a.createElement("div",{className:"form-group"+(s&&!i.end_date?" has-error":"")},r.a.createElement("label",{htmlFor:"end_date"},"Fecha de Fin"),r.a.createElement("input",{type:"date",className:"form-control",name:"end_date",value:i.end_date,onChange:this.handleChange}),s&&!i.end_date&&r.a.createElement("div",{className:"help-block"},"Debe ingresar una fecha de fin")),r.a.createElement("div",{className:"form-group"+(s&&!i.id_client?" has-error":"")},r.a.createElement("label",{htmlFor:"id_client"},"Seleccione un cliente"),r.a.createElement(oe.a,{placeholder:"Seleccione un cliente",value:o,onChange:this.handleChange,options:c,noOptionsMessage:function(){return"No hay clientes registrados"}}),s&&!i.id_client&&r.a.createElement("div",{className:"help-block"},"Debe seleccionar un cliente")),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary"},"Register"),t&&r.a.createElement("img",{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="}),r.a.createElement(Z.a,{to:"/",className:"btn btn-link"},"Cancel"))))}}]),t}(r.a.Component);var le=Object(s.b)(function(e){var t=e.clients,n=e.authentication,a=e.registration.registering;return{user:n.user,clients:t,registering:a}})(ce),ue=function(e){function t(e){var n;Object(y.a)(this,t);var a=(n=Object(G.a)(this,Object(L.a)(t).call(this,e))).props.dispatch;return c.listen(function(e,t){a(Q.clear())}),n}return Object(j.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.props.alert;return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-sm-8 col-sm-offset-2"},e.message&&r.a.createElement("div",{className:"alert ".concat(e.type)},e.message),r.a.createElement(w.a,{history:c},r.a.createElement("div",null,r.a.createElement(V,{exact:!0,path:"/",component:ee}),r.a.createElement(V,{path:"/register",component:se}),r.a.createElement(V,{path:"/createProject",component:le}),r.a.createElement(N.a,{path:"/login",component:re}))))))}}]),t}(r.a.Component);var Ae=Object(s.b)(function(e){return{alert:e.alert}})(ue);!function(e){e&&function(){var e=[{username:"admin",password:"admin",token:"fake-jwt-token"}];localStorage.setItem("users",JSON.stringify(e)),localStorage.setItem("clients",JSON.stringify([])),localStorage.setItem("projects",JSON.stringify([]))}();var t=window.fetch;window.fetch=function(e,n){return new Promise(function(a,r){setTimeout(function(){return e.endsWith("/api/login/company")&&"POST"===n.method?function(e,t,n){var a=JSON.parse(e.body),r=O.filter(function(e){return e.username===a.username&&e.password===a.password});if(r.length){var i=r[0],s={id:i.id,username:i.username,token:"fake-jwt-token"};n({ok:!0,text:function(){return Promise.resolve(JSON.stringify(s))}})}else t("Datos incorrectos")}(n,r,a):e.endsWith("/users")&&"GET"===n.method?function(e,t,n){e.headers&&"Bearer fake-jwt-token"===e.headers.Authorization?n({ok:!0,text:function(){return Promise.resolve(JSON.stringify(O))}}):t("Unauthorised")}(n,r,a):e.endsWith("/api/clients")&&"GET"===n.method?function(e,t,n){e.headers&&"Bearer fake-jwt-token"===e.headers.Authorization?n({ok:!0,text:function(){return Promise.resolve(JSON.stringify(U))}}):t("Unauthorised")}(n,r,a):e.match(/\/api\/users\/\d+$/)&&"GET"===n.method?function(e,t,n,a){if(t.headers&&"Bearer fake-jwt-token"===t.headers.Authorization){var r=e.split("/"),i=parseInt(r[r.length-1]),s=O.filter(function(e){return e.id===i}),o=s.length?s[0]:null;a({ok:!0,text:function(){return JSON.stringify(o)}})}else n("Unauthorised")}(e,n,r,a):e.match(/\/api\/clients\/\d+$/)&&"GET"===n.method?function(e,t,n,a){if(t.headers&&"Bearer fake-jwt-token"===t.headers.Authorization){var r=e.split("/"),i=parseInt(r[r.length-1]),s=U.filter(function(e){return e.id===i}),o=s.length?s[0]:null;a({ok:!0,text:function(){return JSON.stringify(o)}})}else n("Unauthorised")}(e,n,r,a):e.endsWith("/users/register")&&"POST"===n.method?function(e,t,n){var a=JSON.parse(e.body);O.filter(function(e){return e.username===a.username}).length?t('Nombre de usuario: "'+a.username+'" ya fue registrado'):(a.id=O.length?Math.max.apply(Math,Object(I.a)(O.map(function(e){return e.id})))+1:1,O.push(a),localStorage.setItem("users",JSON.stringify(O)),n({ok:!0,text:function(){return Promise.resolve()}}))}(n,r,a):e.endsWith("/api/clients")&&"POST"===n.method?function(e,t,n){var a=JSON.parse(e.body);U.filter(function(e){return e.username===a.username}).length?t('Nombre de usuario:  "'+a.username+'" ya fue registrado'):(a.id=U.length?Math.max.apply(Math,Object(I.a)(U.map(function(e){return e.id})))+1:1,U.push(a),localStorage.setItem("clients",JSON.stringify(U)),n({ok:!0,text:function(){return Promise.resolve()}}))}(n,r,a):e.endsWith("/api/projects")&&"POST"===n.method?function(e,t,n){var a=JSON.parse(e.body);T.filter(function(e){return e._id===a._id}).length?t('Proyecto con id:  "'+a._id+'" ya fue registrado'):(a._id=T.length?Math.max.apply(Math,Object(I.a)(T.map(function(e){return e._id})))+1:1,T.push(a),localStorage.setItem("projects",JSON.stringify(T)),n({ok:!0,text:function(){return Promise.resolve()}}))}(n,r,a):e.match(/\/users\/\d+$/)&&"DELETE"===n.method?function(e,t,n,a){if(t.headers&&"Bearer fake-jwt-token"===t.headers.Authorization){for(var r=e.split("/"),i=parseInt(r[r.length-1]),s=0;s<O.length;s++)if(O[s].id===i){O.splice(s,1),localStorage.setItem("users",JSON.stringify(O));break}a({ok:!0,text:function(){return Promise.resolve()}})}else n("Unauthorised")}(e,n,r,a):void t(e,n).then(function(e){return a(e)})},500)})}}(!0),Object(i.render)(r.a.createElement(s.a,{store:R},r.a.createElement(Ae,null)),document.getElementById("app"))}},[[45,2,1]]]);
//# sourceMappingURL=main.7f97b290.chunk.js.map