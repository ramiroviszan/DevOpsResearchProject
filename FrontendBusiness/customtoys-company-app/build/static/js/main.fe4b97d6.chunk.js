(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{42:function(e,t,n){e.exports=n(43)},43:function(e,t,n){n(66)},52:function(e,t,n){},56:function(e,t){},66:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(17),o=n(11),c=n(16),i=Object(c.a)(),l=n(18),A=n(35),u=n(36),E={SUCCESS:"ALERT_SUCCESS",ERROR:"ALERT_ERROR",CLEAR:"ALERT_CLEAR"},m={REGISTER_REQUEST:"USERS_REGISTER_REQUEST",REGISTER_SUCCESS:"USERS_REGISTER_SUCCESS",REGISTER_FAILURE:"USERS_REGISTER_FAILURE",LOGIN_REQUEST:"USERS_LOGIN_REQUEST",LOGIN_SUCCESS:"USERS_LOGIN_SUCCESS",LOGIN_FAILURE:"USERS_LOGIN_FAILURE",LOGOUT:"USERS_LOGOUT",GETALL_REQUEST:"USERS_GETALL_REQUEST",GETALL_SUCCESS:"USERS_GETALL_SUCCESS",GETALL_FAILURE:"USERS_GETALL_FAILURE",DELETE_REQUEST:"USERS_DELETE_REQUEST",DELETE_SUCCESS:"USERS_DELETE_SUCCESS",DELETE_FAILURE:"USERS_DELETE_FAILURE"},d={REGISTER_REQUEST:"CLIENTS_REGISTER_REQUEST",REGISTER_SUCCESS:"CLIENTS_REGISTER_SUCCESS",REGISTER_FAILURE:"CLIENTS_REGISTER_FAILURE",GETALL_REQUEST:"CLIENTS_GETALL_REQUEST",GETALL_SUCCESS:"CLIENTS_GETALL_SUCCESS",GETALL_FAILURE:"CLIENTS_GETALL_FAILURE"},h={REGISTER_REQUEST:"PROJECTS_REGISTER_REQUEST",REGISTER_SUCCESS:"PROJECTS_REGISTER_SUCCESS",REGISTER_FAILURE:"PROJECTS_REGISTER_FAILURE"},p=JSON.parse(localStorage.getItem("user")),g=p?{loggedIn:!0,user:p}:{};var S=n(23),f=n(5);var C=Object(l.c)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.LOGIN_REQUEST:return{loggingIn:!0,user:t.user};case m.LOGIN_SUCCESS:return{loggedIn:!0,user:t.user};case m.LOGIN_FAILURE:case m.LOGOUT:return{};default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case d.REGISTER_REQUEST:case h.REGISTER_REQUEST:return{registering:!0};case d.REGISTER_SUCCESS:case d.REGISTER_FAILURE:case h.REGISTER_FAILURE:case h.REGISTER_SUCCESS:return{};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.GETALL_REQUEST:return{loading:!0};case m.GETALL_SUCCESS:return{items:t.users};case m.GETALL_FAILURE:return{error:t.error};case m.DELETE_REQUEST:return Object(f.a)({},e,{items:e.items.map(function(e){return e.id===t.id?Object(f.a)({},e,{deleting:!0}):e})});case m.DELETE_SUCCESS:return{items:e.items.filter(function(e){return e.id!==t.id})};case m.DELETE_FAILURE:return Object(f.a)({},e,{items:e.items.map(function(e){if(e.id===t.id){e.deleting;var n=Object(S.a)(e,["deleting"]);return Object(f.a)({},n,{deleteError:t.error})}return e})});default:return e}},clients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.GETALL_REQUEST:return{loading:!0};case d.GETALL_SUCCESS:return{items:t.clients};case d.GETALL_FAILURE:return{error:t.error};default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.SUCCESS:return{type:"alert-success",message:t.message};case E.ERROR:return{type:"alert-danger",message:t.message};case E.CLEAR:return{};default:return e}}}),R=Object(u.createLogger)(),b=Object(l.d)(C,Object(l.a)(A.a,R));function I(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}n(25),JSON.parse(localStorage.getItem("users")),JSON.parse(localStorage.getItem("clients")),JSON.parse(localStorage.getItem("projects"));var v=n(8),U=n(9),T=n(13),_=n(10),O=n(12),L=n(70),G=n(69),y={success:function(e){return{type:E.SUCCESS,message:e}},error:function(e){return{type:E.ERROR,message:e}},clear:function(){return{type:E.CLEAR}}};var j=n(7),w=n.n(j),Q={login:function(e,t){var n={method:"POST",headers:{Authorization:"d774f026-6243-4a14-9696-051329f82987","Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return fetch("".concat(w.a.ENTERPRISE_AUTH_API_URL),n).then(D).then(function(n){!function(e,t,n){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};fetch("".concat(w.a.apiUrl,"/api/login/enterprise"),a).then(D).then(function(a){return a={username:e,password:t,token:n.token},console.log("muestro token por las dudas: ",a.token),a.token&&localStorage.setItem("user",JSON.stringify(a)),a})}(e,t,n)})},logout:N,register:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("".concat(w.a.apiUrl,"/users/register"),t).then(D)},getAll:function(){var e={method:"GET",headers:I()};return fetch("".concat(w.a.apiUrl,"/users"),e).then(D)},getById:function(e){var t={method:"GET",headers:I()};return fetch("".concat(w.a.apiUrl,"/users/").concat(e),t).then(D)},update:function(e){var t={method:"PUT",headers:Object(f.a)({},I(),{"Content-Type":"application/json"}),body:JSON.stringify(e)};return fetch("".concat(w.a.apiUrl,"/users/").concat(e.id),t).then(D)},delete:function(e){var t={method:"DELETE",headers:I()};return fetch("".concat(w.a.apiUrl,"/users/").concat(e),t).then(D)}};function N(){localStorage.removeItem("user")}function D(e){return e.text().then(function(t){if("Not Found"==t)return Promise.reject("Datos Incorrectos");var n=t&&JSON.parse(t);if(!e.ok){401===e.status&&(N(),window.location.reload(!0));var a=n&&n.message||e.statusText;return Promise.reject(a)}return n})}var k={register:function(e){var t=function(e){return{company_name:e.username,entry_date:e.entry_date}}(e),n={method:"POST",headers:Object(f.a)({},I(),{"Content-Type":"application/json"}),body:JSON.stringify(t)};return fetch("".concat(w.a.apiUrl,"/api/clients"),n).then(M)},update:function(e){var t={method:"PUT",headers:Object(f.a)({},I(),{"Content-Type":"application/json"}),body:JSON.stringify(e)};return fetch("".concat(w.a.apiUrl,"/api/client/").concat(e.id),t).then(M)},getAll:function(){var e={method:"GET",headers:I()};return fetch("".concat(w.a.apiUrl,"/api/clients"),e).then(M)},getById:function(e){var t={method:"GET",headers:I()};return fetch("".concat(w.a.apiUrl,"/api/clients/").concat(e),t).then(M)}};function M(e){return e.text().then(function(t){try{var n=t&&JSON.parse(t);if(!e.ok){401===e.status&&(localStorage.removeItem("user"),window.location.reload(!0));var a=n&&n.message||e.statusText;return Promise.reject(a)}return n}catch(r){return Promise.reject(t)}})}var F={register:function(e){var t=function(e){return{name:e.name,start_date:e.start_date,end_date:e.end_date,company:"COMPANY"}}(e),n={method:"POST",headers:Object(f.a)({},I(),{"Content-Type":"application/json"}),body:JSON.stringify(t)};return fetch("".concat(w.a.apiUrl,"/api/projects"),n).then(J)},getAll:function(){var e={method:"GET",headers:I()};return fetch("".concat(w.a.apiUrl,"/api/projects"),e).then(J)},getClientProjects:function(e){var t={method:"GET",headers:I()};return fetch("".concat(w.a.apiUrl,"/api/client/").concat(e,"/projects"),t).then(J)}};function J(e){return e.text().then(function(t){var n=t&&JSON.parse(t);if(!e.ok){401===e.status&&(localStorage.removeItem("user"),window.location.reload(!0));var a=n&&n.message||e.statusText;return Promise.reject(a)}return n})}var B={login:function(e,t){return function(n){var a;n((a={username:e},{type:m.LOGIN_REQUEST,user:a})),Q.login(e,t).then(function(e){n(function(e){return{type:m.LOGIN_SUCCESS,user:e}}(e)),i.push("/")},function(e){n(function(e){return{type:m.LOGIN_FAILURE,error:e}}(e.toString())),n(y.error(e.toString()))})}},logout:function(){return Q.logout(),{type:m.LOGOUT}},register:function(e){return function(t){t(function(e){return{type:m.REGISTER_REQUEST,user:e}}(e)),Q.register(e).then(function(e){t(function(e){return{type:m.REGISTER_SUCCESS,user:e}}()),i.push("/login"),t(y.success("Registration successful"))},function(e){t(function(e){return{type:m.REGISTER_FAILURE,error:e}}(e.toString())),t(y.error(e.toString()))})}},getAll:function(){return function(e){e({type:m.GETALL_REQUEST}),Q.getAll().then(function(t){return e(function(e){return{type:m.GETALL_SUCCESS,users:e}}(t))},function(t){return e(function(e){return{type:m.GETALL_FAILURE,error:e}}(t.toString()))})}},delete:function(e){return function(t){t(function(e){return{type:m.DELETE_REQUEST,id:e}}(e)),Q.delete(e).then(function(n){return t(function(e){return{type:m.DELETE_SUCCESS,id:e}}(e))},function(n){return t(function(e,t){return{type:m.DELETE_FAILURE,id:e,error:t}}(e,n.toString()))})}}};var K={register:function(e){return function(t){t(function(e){return{type:d.REGISTER_REQUEST,client:e}}(e)),k.register(e).then(function(e){t(function(e){return{type:d.REGISTER_SUCCESS,client:e}}()),i.push("/"),t(y.success("Registration successful"))},function(e){t(function(e){return{type:d.REGISTER_FAILURE,error:e}}(e.toString())),t(y.error(e.toString()))})}},getAll:function(){return function(e){e({type:d.GETALL_REQUEST}),k.getAll().then(function(t){return e(function(e){return{type:d.GETALL_SUCCESS,clients:e}}(t))},function(t){return e(function(e){return{type:d.GETALL_FAILURE,error:e}}(t.toString()))})}}};var P={register:function(e){return function(t){t(function(e){return{type:h.REGISTER_REQUEST,project:e}}(e)),F.register(e).then(function(e){t(function(e){return{type:h.REGISTER_SUCCESS,project:e}}()),i.push("/"),t(y.success("Registration successful"))},function(e){t(function(e){return{type:h.REGISTER_FAILURE,error:e}}(e.toString())),t(y.error(e.toString()))})}}};var Y=n(68),H=function(e){var t=e.component,n=Object(S.a)(e,["component"]);return r.a.createElement(G.a,Object.assign({},n,{render:function(e){return localStorage.getItem("user")?r.a.createElement(t,e):r.a.createElement(Y.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},x=(n(52),n(56),n(67)),W=n(57),z=function(e){function t(){return Object(v.a)(this,t),Object(T.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){W("#cssmenu li.active").addClass("open").children("ul").show(),W("#cssmenu li.has-sub>a").on("click",this.showClientOptions)}},{key:"showClientOptions",value:function(){W(this).removeAttr("href");var e=W(this).parent("li");e.hasClass("open")?(e.removeClass("open"),e.find("li").removeClass("open"),e.find("ul").slideUp(200)):(e.addClass("open"),e.children("ul").slideDown(200),e.siblings("li").children("ul").slideUp(200),e.siblings("li").removeClass("open"),e.siblings("li").find("li").removeClass("open"),e.siblings("li").find("ul").slideUp(200))}},{key:"render",value:function(){return r.a.createElement("div",{id:"cssmenu"},r.a.createElement("ul",null,r.a.createElement("li",{className:"has-sub"},r.a.createElement("a",{href:"#"},"Clientes"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(x.a,{to:"/register"},"Crear Cliente")),r.a.createElement("li",null,r.a.createElement(x.a,{to:"/"},"Mostrar Clientes")))),r.a.createElement("li",{className:"has-sub"},r.a.createElement("a",{href:"#"},"Proyectos"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(x.a,{to:"/createProject"},"Crear Proyecto")),r.a.createElement("li",null,r.a.createElement(x.a,{to:"/"},"Mostrar Proyectos")))),r.a.createElement("li",{className:"logout"},r.a.createElement(x.a,{to:"/login"},"Cerrar Sesi\xf3n"))))}}]),t}(r.a.Component),V=function(e){function t(){return Object(v.a)(this,t),Object(T.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(B.getAll())}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",null,r.a.createElement("div",{className:"welcomeMsg"},r.a.createElement("p",null,"Bienvenido/a ",e?e.username:"","!")),r.a.createElement(z,null))}}]),t}(r.a.Component);var Z=Object(o.b)(function(e){var t=e.users;return{user:e.authentication.user,users:t}})(V),q=n(15),X=n(6),$=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(T.a)(this,Object(_.a)(t).call(this,e))).props.dispatch(B.logout()),n.state={username:"",password:"",submitted:!1},n.handleChange=n.handleChange.bind(Object(X.a)(Object(X.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(X.a)(Object(X.a)(n))),n}return Object(O.a)(t,e),Object(U.a)(t,[{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(q.a)({},n,a))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state,n=t.username,a=t.password,r=this.props.dispatch;n&&a&&r(B.login(n,a))}},{key:"render",value:function(){var e=this.props.loggingIn,t=this.state,n=t.username,a=t.password,s=t.submitted;return r.a.createElement("div",{className:"col-md-6 col-md-offset-3"},r.a.createElement("h2",{style:{textAlign:"center"}},"Custom Toys"),r.a.createElement("form",{name:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"+(s&&!n?" has-error":"")},r.a.createElement("label",{htmlFor:"username"},"Nombre de Usuario"),r.a.createElement("input",{type:"text",className:"form-control",name:"username",value:n,onChange:this.handleChange}),s&&!n&&r.a.createElement("div",{className:"help-block"},"Debe ingresar el nombre de usuario")),r.a.createElement("div",{className:"form-group"+(s&&!a?" has-error":"")},r.a.createElement("label",{htmlFor:"password"},"Contrase\xf1a"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",value:a,onChange:this.handleChange}),s&&!a&&r.a.createElement("div",{className:"help-block"},"Debe ingresar la contrase\xf1a")),r.a.createElement("div",{style:{textAlign:"center"},className:"form-group"},r.a.createElement("button",{className:"btn btn-primary"},"Ingresar"),r.a.createElement("br",null),r.a.createElement("br",null),e&&r.a.createElement("img",{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="}))))}}]),t}(r.a.Component);var ee=Object(o.b)(function(e){return{loggingIn:e.authentication.loggingIn}})($),te=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(T.a)(this,Object(_.a)(t).call(this,e))).state={client:{username:"",password:"",company_name:"",entry_date:"",rut:""},submitted:!1},n.handleChange=n.handleChange.bind(Object(X.a)(Object(X.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(X.a)(Object(X.a)(n))),n}return Object(O.a)(t,e),Object(U.a)(t,[{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value,r=this.state.client;this.setState({client:Object(f.a)({},r,Object(q.a)({},n,a))})}},{key:"fieldsCompleted",value:function(){var e=this.state.client,t=!0;return t&=""!=e.username.trim(),t&=""!=e.password.trim(),t&=""!=e.company_name.trim(),t&=""!=e.entry_date.trim()}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state.client,n=this.props.dispatch;this.fieldsCompleted()&&n(K.register(t))}},{key:"render",value:function(){var e=this.props.registering,t=this.state,n=t.client,a=t.submitted;return r.a.createElement("div",{className:"col-md-6 col-md-offset-3"},r.a.createElement("h2",null,"Registrar Cliente"),r.a.createElement("form",{name:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"+(a&&!n.username?" has-error":"")},r.a.createElement("label",{htmlFor:"username"},"Nombre de Usuario"),r.a.createElement("input",{type:"text",className:"form-control",name:"username",value:n.username,onChange:this.handleChange}),a&&!n.username&&r.a.createElement("div",{className:"help-block"},"Debe ingresar un nombre de usuario")),r.a.createElement("div",{className:"form-group"+(a&&!n.password?" has-error":"")},r.a.createElement("label",{htmlFor:"password"},"Contrase\xf1a"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",value:n.password,onChange:this.handleChange}),a&&!n.password&&r.a.createElement("div",{className:"help-block"},"Debe ingresar una contrase\xf1a")),r.a.createElement("div",{className:"form-group"+(a&&!n.company_name?" has-error":"")},r.a.createElement("label",{htmlFor:"company_name"},"Nombre de la Empresa Cliente"),r.a.createElement("input",{type:"text",className:"form-control",name:"company_name",value:n.company_name,onChange:this.handleChange}),a&&!n.company_name&&r.a.createElement("div",{className:"help-block"},"Debe ingresar un nombre para la empresa cliente")),r.a.createElement("div",{className:"form-group"+(a&&!n.entry_date?" has-error":"")},r.a.createElement("label",{htmlFor:"entry_date"},"Fecha de ingreso"),r.a.createElement("input",{type:"date",className:"form-control",name:"entry_date",value:n.entry_date,onChange:this.handleChange}),a&&!n.entry_date&&r.a.createElement("div",{className:"help-block"},"Debe ingresar la fecha de entrada")),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary"},"Register"),e&&r.a.createElement("img",{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="}),r.a.createElement(x.a,{to:"/",className:"btn btn-link"},"Cancel"))))}}]),t}(r.a.Component);var ne=Object(o.b)(function(e){return{registering:e.registration.registering,user:e.authentication.user}})(te),ae=n(41),re=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(T.a)(this,Object(_.a)(t).call(this,e))).state={project:{_id:"",name:"",start_date:"",end_date:"",id_client:""},selectedOption:null,submitted:!1},n.handleChange=n.handleChange.bind(Object(X.a)(Object(X.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(X.a)(Object(X.a)(n))),n}return Object(O.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(K.getAll())}},{key:"handleClient",value:function(e){var t=this.state.project;e&&this.setState({selectedOption:e,project:Object(f.a)({},t,{id_client:e.value})})}},{key:"handleChange",value:function(e){if(e.target){var t=e.target,n=t.name,a=t.value,r=this.state.project;this.setState({project:Object(f.a)({},r,Object(q.a)({},n,a))})}else this.handleClient(e)}},{key:"fieldsCompleted",value:function(){var e=this.state.project,t=!0;return t&=""!=e.name.trim(),t&=""!=e.start_date.trim(),t&=""!=e.end_date.trim(),t&=""!=e.id_client.trim()}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state.project,n=this.props.dispatch;this.fieldsCompleted()&&n(P.register(t))}},{key:"render",value:function(){var e=this.props,t=e.registering,n=e.clients,a=this.state,s=a.project,o=a.submitted,c=a.selectedOption,i=[];return n&&n.items&&n.items.map(function(e,t){return i.push({value:e.username,label:"Nombre de usuario del cliente: "+e.username})}),r.a.createElement("div",{className:"col-md-6 col-md-offset-3"},r.a.createElement("h2",null,"Crear Proyecto"),r.a.createElement("form",{name:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"+(o&&!s.name?" has-error":"")},r.a.createElement("label",{htmlFor:"name"},"Nombre"),r.a.createElement("input",{type:"text",className:"form-control",name:"name",value:s.name,onChange:this.handleChange}),o&&!s.name&&r.a.createElement("div",{className:"help-block"},"Debe ingresar un nombre al proyecto")),r.a.createElement("div",{className:"form-group"+(o&&!s.start_date?" has-error":"")},r.a.createElement("label",{htmlFor:"start_date"},"Fecha de Inicio"),r.a.createElement("input",{type:"date",className:"form-control",name:"start_date",value:s.start_date,onChange:this.handleChange}),o&&!s.start_date&&r.a.createElement("div",{className:"help-block"},"Debe ingresar una fecha de inicio")),r.a.createElement("div",{className:"form-group"+(o&&!s.end_date?" has-error":"")},r.a.createElement("label",{htmlFor:"end_date"},"Fecha de Fin"),r.a.createElement("input",{type:"date",className:"form-control",name:"end_date",value:s.end_date,onChange:this.handleChange}),o&&!s.end_date&&r.a.createElement("div",{className:"help-block"},"Debe ingresar una fecha de fin")),r.a.createElement("div",{className:"form-group"+(o&&!s.id_client?" has-error":"")},r.a.createElement("label",{htmlFor:"id_client"},"Seleccione un cliente"),r.a.createElement(ae.a,{placeholder:"Seleccione un cliente",value:c,onChange:this.handleChange,options:i,noOptionsMessage:function(){return"No hay clientes registrados"}}),o&&!s.id_client&&r.a.createElement("div",{className:"help-block"},"Debe seleccionar un cliente")),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary"},"Register"),t&&r.a.createElement("img",{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="}),r.a.createElement(x.a,{to:"/",className:"btn btn-link"},"Cancel"))))}}]),t}(r.a.Component);var se=Object(o.b)(function(e){var t=e.clients,n=e.authentication,a=e.registration.registering;return{user:n.user,clients:t,registering:a}})(re),oe=function(e){function t(e){var n;Object(v.a)(this,t);var a=(n=Object(T.a)(this,Object(_.a)(t).call(this,e))).props.dispatch;return i.listen(function(e,t){a(y.clear())}),n}return Object(O.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this.props.alert;return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-sm-8 col-sm-offset-2"},e.message&&r.a.createElement("div",{className:"alert ".concat(e.type)},e.message),r.a.createElement(L.a,{history:i},r.a.createElement("div",null,r.a.createElement(H,{exact:!0,path:"/",component:Z}),r.a.createElement(H,{path:"/register",component:ne}),r.a.createElement(H,{path:"/createProject",component:se}),r.a.createElement(G.a,{path:"/login",component:ee}))))))}}]),t}(r.a.Component);var ce=Object(o.b)(function(e){return{alert:e.alert}})(oe);Object(s.render)(r.a.createElement(o.a,{store:b},r.a.createElement(ce,null)),document.getElementById("app"))},7:function(e,t){e.exports={apiUrl:"http://localhost:3000",ENTERPRISE_AUTH_API_TOKEN:"d774f026-6243-4a14-9696-051329f82987",ENTERPRISE_AUTH_API_URL:"https://dev-ops-ort.herokuapp.com/api/auth/token",CUSTOMER_RUT_VALIDATE_API_URL:"https://dev-ops-ort.herokuapp.com/api/rut/validate"}}},[[42,2,1]]]);
//# sourceMappingURL=main.fe4b97d6.chunk.js.map